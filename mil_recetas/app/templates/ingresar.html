{% extends "layout.html" %}

{% block content %}
    <div class="d-flex justify-content-center py-5 flex-column align-items-center">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="alert-container"> {% for category, message in messages %}
                        <div id="error-message" class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        <form action="/ingresar" method="POST">
            <div class="d-flex flex-column">
                <p class="text-center fw-bold fs-3">Ingresa</p>
                <input type="text" placeholder="Nombre de usuario" name="nombre_usuario" id="username-input">
                <input type="password" placeholder="Contraseña" name="password" id="password-input">
                <button type="submit" id="login-button">Iniciar sesión</button>
            </div>
            <div class="container text-center">
                <span class="password"><a class="fw-bold text-black text-decoration-none" href="#">¿Olvidaste tu contraseña?</a></span>
            </div>
            <br>
            <div class="container text-center">
                <span>¿Aún no tienes una cuenta? <a class="fw-bold text-decoration-none text-black" href="{{ url_for('registro') }}">Registrate</a></span>
            </div>
        </form>
    </div>
{% endblock %}

{% block style %}
    <style>
        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        main {
            flex: 1;
        }

        form {
            box-shadow: none;
            padding: 25px;
        }

        form input {
            margin-top: 0.7rem;
            height: 35px;
            border-radius: 5px;
            border: 1px solid lightgray;
        }

        form button {
            background-color: #0b4a4a;
            border: none;
            padding: 7px;
            color: white;
            font-weight: bold;
            margin-left: 0;
        }
        
        #error-message.error {
            color: red;
            background-color: #ffdddd;
            padding: 10px;
            border: 1px solid red;
        }

        .alert-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 300px;
            margin: 0 auto;
            margin-bottom: 15px;
        }

        .alert {
            padding: 10px 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }

        .alert-error {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }

        .alert-success {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }

        .alert-info {
            background-color: #cce5ff;
            border-color: #b8daff;
            color: #004085;
        }

        .alert-warning {
            background-color: #fff3cd;
            border-color: #ffeeba;
            color: #856404;
        }
    </style>
{% endblock %}
    
{% block scripts %}
    <script src="../static/js/validacion_ingreso.js"></script>
{% endblock %}